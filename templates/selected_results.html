{% extends "layout.html" %}

{% block content %}
<h2>Recipes for "{{ cuisine|capitalize }}" Cuisine</h2>

{% if recipes %}
  <div class="row">
    {% for recipe in recipes %}
      <div class="col-lg-3 col-md-12 mb-4">
        <div class="card shadow-3 rounded-5 h-100" style="width: 20rem;">
          {% if recipe.image %}
            <img src="{{ url_for('static', filename=recipe.image) }}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ recipe.title }}">
          {% else %}
            <img src="{{ url_for('static', filename='img/default-recipe.jpg') }}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="Default Recipe Image">
          {% endif %}
          
          <div class="card-body d-flex flex-column justify-content-between">
            <!-- Title and Creator -->
            <div class="text-center mb-3">
              <h5 class="card-title mb-1">{{ recipe.title }}</h5>
              <p class="text-muted mb-2" style="font-size: 0.9rem;">by <strong>{{ recipe.prepared_by }}</strong></p>
            </div>

            <!-- Time & Serving Info -->
            <div class="text-center mb-2">
              <p>
                <i class="fas fa-clock me-2 text-secondary"></i>
                {{ recipe.prep_time }} prep + {{ recipe.cook_time }} cook | 
                <i class="fas fa-users me-2 text-secondary"></i>{{ recipe.servings }} persons
              </p>
            </div>

            <!-- Action Buttons -->
            <div class="d-flex justify-content-between align-items-center px-2">
    <a href="{{ url_for('recipedetails', recipe_title=recipe.title) }}" class="btn btn-primary flex-grow-1 me-2">Make This</a>
    <a href="{{ url_for('add_to_favorites', recipe_title=recipe.title) }}" class="btn btn-outline-warning" title="Add to Favorites">
        <i class="fas fa-bookmark"></i>
    </a>
</div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No recipes found for {{ cuisine }} cuisine.</p>
{% endif %}

{% endblock %}
